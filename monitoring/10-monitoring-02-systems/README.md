Домашнее задание к занятию 13 «Введение в мониторинг»

1) Я бы настроил мониторинг в zabbix 

Метрики:

ICMP ping

Стандартный шаблон:
CPU utilization
CPU load avarage avg (1min, 5,min 15min )
Numbers of CPUs

Available Memory
Used Memory
Total memory
Utilization Memory

Правило обнаружение дисков и ФС
Скорость записи\чтения
Свободное пространство ФС
Inodes

Мониторинг создаваемого файла:
Дата создания
Объем

Правило обнаружения сетевых интерфейсов 
Входящий трафик
Исходящий трафик 

WEB мониторинг доступности платформы по http
Response code 200
Response time
Last Error message

Опишу коротко:
Раз файлы сохраняются на диск - надо мониторить место на нем, раз у него есть вебка - значит нужно мониторить её доступность, соответственно так же CPU RAM и все прочее касаемое самого сервера тоже необходимо мониторить, можно добавить мониторинг служб, количество процессов и многое другое

2) Конечно можно было описать все эти метрики так, чтоб было ему прям все понятно, но можно это сделать в Description, и скинуть ему ссылку на google
Зачем вообще МП лезть в мониторинг? для этого есть админы сервиса. Ознакомиться с SLA SLO в контракте 

3) Можно использовать ELK или Grafana Loki их иожно развернуть на своих серверах и пользоваться бесплатьной версией

4) могли быть 3хх например перенаправления (summ_2xx_requests+summ_3xx_requests)/summ_all_requests будет правильнее 

5) Опишите основные плюсы и минусы pull и push систем мониторинга.

PUSH модель

Упрощение репликации данных в разные системы мониторинга или их резервные копии

Более гибкая настройка отправки пакетов данных с метриками

UDP менее затратный способ передачи данных, по этому более производительный сбор метрик

PULL модель

Легче контролировать подлинность данных 

Можно настроить единный прокси сервер до всех агентов с TLS

Упрощенная отладка получения данных с агентов 

6) Какие из ниже перечисленных систем относятся к push модели, а какие к pull? А может есть гибридные?

Zabbix - PUSH and PULL

TICK  -  PUSH

Zabbix     - PULL

Prometheus - PULL

Nagios     - PULL

VictoriaMetrics - PUSH and PULL

Гибрид например zabbix, во первых там можно настроить активный или пассивный прокси, который соответственно будет или ждать запрос от сервера на получение данных либо сам будет их отдавать, а также на самих агентах можно настроить и активные и пассивные проверки, или даже через python скрипт отправлять метрики и создавать правила обнаружения с модулем py-zabbix или через zabbix sender 

7) Склонируйте себе репозиторий и запустите TICK-стэк, используя технологии docker и docker-compose.

![image](https://user-images.githubusercontent.com/111060072/227270144-826cf232-6f7b-48bb-a869-4fee6b37feec.png)

![image](https://user-images.githubusercontent.com/111060072/227260059-22f4e94b-779b-4f82-b3c4-1f3dae445403.png)

![image](https://user-images.githubusercontent.com/111060072/227260594-0c8c45f5-d73d-4c83-a56f-7c29eb47a9ec.png)

8) Перейдите в веб-интерфейс Chronograf (http://localhost:8888) и откройте вкладку Data explorer.

Нажмите на кнопку Add a query
Изучите вывод интерфейса и выберите БД telegraf.autogen
В measurments выберите mem->host->telegraf_container_id , а в fields выберите used_percent. Внизу появится график утилизации оперативной памяти в контейнере telegraf.
Вверху вы можете увидеть запрос, аналогичный SQL-синтаксису. Поэкспериментируйте с запросом, попробуйте изменить группировку и интервал наблюдений.
Для выполнения задания приведите скриншот с отображением метрик утилизации места на диске (disk->host->telegraf_container_id) из веб-интерфейса.

![image](https://user-images.githubusercontent.com/111060072/227267741-9ed7ddac-6428-4cbe-b884-c50cd95e505e.png)

![image](https://user-images.githubusercontent.com/111060072/227269281-639bb7c5-a566-4e8c-93c5-8aad133e4604.png)

9) Изучите список telegraf inputs. Добавьте в конфигурацию telegraf следующий плагин - docker:

Метрики Docker есть в обновленной версии из коробки 

![image](https://user-images.githubusercontent.com/111060072/227273250-25d1e462-7e16-4d94-851d-46c8ad123b1c.png)

